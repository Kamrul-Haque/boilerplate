import{r,v as E,p as j,d as N,x as A,o as u,c,e as F,t as k,f as h,b as d,n as p,y as L,z as M,a as P,w as U,F as $,j as K,A as R,T as G,B as C,C as O,D as J}from"./app-DlkO5vNf.js";import{_ as Q}from"./ApplicationLogo-C_KvrvSq.js";const W=t=>(O("data-v-410d5f21"),t=t(),J(),t),X={class:"my-4"},Y={key:0,class:"label capitalize"},Z={key:0,class:"text-error text-sm"},_={class:"relative"},ee={key:0,class:"absolute flex items-center text-xl text-gray-800 left-0 ml-3 inset-y-0"},te=["placeholder","required","autofocus"],le=["onMousedown"],oe=W(()=>d("i",{class:"mdi mdi-close"},null,-1)),ae=[oe],ne={class:"absolute flex items-center text-xl text-gray-500 right-0 mr-3 inset-y-0"},ie={key:1,class:"validation-error"},se={__name:"Select",props:{modelValue:{type:[String,Number,Object],required:!1},items:Array,itemLabel:String,itemValue:String,required:Boolean,label:String,placeholder:String,error:String,autofocus:Boolean,prependIcon:String,rounded:Boolean,height:{type:[String,Number]},clearable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:D}){const n=t,s=r(""),i=r(!1),a=r(-1),S=r(!1),f=E(()=>n.items),w=D;function b(e){S.value=!0,typeof e=="object"?s.value=e[n.itemLabel]:s.value=e,i.value=!1,a.value=-1,typeof e=="object"?w("update:modelValue",e[n.itemValue]):w("update:modelValue",e)}j(s,()=>{s.value===""&&(y.value.focus(),w("update:modelValue",null))});function z(e){!S.value&&!y.value.contains(e.target)&&!(v.value&&v.value.contains(e.target))&&(i.value=!1)}function H(e){e.key==="ArrowDown"?(e.preventDefault(),a.value<f.value.length-1?a.value++:a.value=0,C(()=>{V()})):e.key==="ArrowUp"?(e.preventDefault(),a.value>0?a.value--:a.value=f.value.length-1,C(()=>{V()})):e.key==="Enter"&&a.value!==-1?(e.preventDefault(),b(f.value[a.value])):e.key==="Escape"&&(i.value=!1,a.value=-1)}function V(){const e=v.value,l=e.children[a.value];if(l){const o=l.offsetTop,m=o+l.offsetHeight,x=e.scrollTop,q=x+e.clientHeight;o<x?e.scrollTop=o:m>q&&(e.scrollTop=m-e.clientHeight)}}const y=r(null),v=r(null);N(()=>{if(window.addEventListener("resize",g),document.addEventListener("click",B),n.modelValue!==null){let e;typeof n.items[0]=="object"?e=n.items.find(l=>l[n.itemValue]==n.modelValue):e=n.items.find(l=>l==n.modelValue),b(e)}});function B(e){!y.value.contains(e.target)&&!(v.value&&v.value.contains(e.target))&&(i.value=!1)}const T=r("bottom-0"),I=r(null),g=()=>{const e=I.value.getBoundingClientRect(),o=window.innerHeight-e.bottom,m=200;i.value=!0,T.value=o>=m?"top-full mt-1":"bottom-full mb-1"};return A(()=>{document.removeEventListener("click",B),window.removeEventListener("resize",g)}),(e,l)=>(u(),c("div",X,[t.label?(u(),c("label",Y,[F(k(t.label)+" ",1),t.required?(u(),c("span",Z,"*")):h("",!0)])):h("",!0),d("div",_,[t.prependIcon?(u(),c("div",ee,[d("i",{class:p(t.prependIcon)},null,2)])):h("",!0),d("div",{class:"relative w-full",ref_key:"autocompleteContainer",ref:I,onFocus:l[1]||(l[1]=(...o)=>i.value&&i.value(...o))},[L(d("input",{class:p(["input capitalize",[t.error?"border-error":"border-gray-200",t.prependIcon?"pl-9":"",t.rounded?"rounded-full":"rounded-md",t.height?`h-${t.height}`:""]]),"onUpdate:modelValue":l[0]||(l[0]=o=>s.value=o),type:"text",placeholder:[t.placeholder||"Please Select..."],required:t.required,autofocus:t.autofocus,autocomplete:"off",onKeydown:H,onFocus:g,onBlur:z,ref_key:"input",ref:y,readonly:""},null,42,te),[[M,s.value]]),P(G,{name:"fade"},{default:U(()=>[L(d("ul",{class:p(["absolute w-full bg-white border rounded mt-1 p-1 max-h-48 overflow-y-auto z-10",T.value]),ref_key:"suggestionList",ref:v},[(u(!0),c($,null,K(f.value,(o,m)=>(u(),c("li",{key:m,onMousedown:x=>b(o),class:p(["p-2 cursor-pointer rounded capitalize",a.value===m?"bg-primary text-white":"hover:bg-primary hover:text-white"])},k(typeof o=="object"?o[t.itemLabel]:o),43,le))),128))],2),[[R,f.value.length&&i.value]])]),_:1})],544),s.value&&t.clearable?(u(),c("div",{key:1,class:"absolute flex items-center text-xl text-primary right-0 mr-8 inset-y-0",onClick:l[2]||(l[2]=o=>s.value="")},ae)):h("",!0),d("div",ne,[d("i",{class:p([f.value.length&&i.value?"mdi mdi-chevron-up":"mdi mdi-chevron-down"])},null,2)])]),t.error?(u(),c("span",ie,k(t.error),1)):h("",!0)]))}},ce=Q(se,[["__scopeId","data-v-410d5f21"]]);export{ce as S};
