import{o as s,c as l,F as y,j as x,k as S,n as R,l as j,u as f,m as v,i as I,r as D,p as B,q as _,f as h,b as e,t as $,a as u,s as w,w as m,e as g,O as q,Z as z,g as L}from"./app-CZRKICmZ.js";import{_ as N}from"./ApplicationLogo-DxMfBdka.js";import{_ as A}from"./TextField-CfIxxS0W.js";import{S as M}from"./Select-BcP3eD62.js";import{_ as O}from"./Admin-DPSwC6i8.js";import{_ as T,a as U}from"./Modal-CMqJ4KsX.js";import{_ as F}from"./DarkButton-OMZsEfl8.js";/* empty css                                              */const H={__name:"Paginator",props:{links:{type:Array}},setup(r){return(i,t)=>(s(),l("div",null,[(s(!0),l(y,null,x(r.links,(n,d)=>(s(),S(j(n.url?f(v):"span"),{key:d,class:R([{"page-link-disabled":!n.url,"page-link-active":n.active},"page-link"]),href:n.url,innerHTML:n.label},null,8,["class","href","innerHTML"]))),128))]))}},P=N(H,[["__scopeId","data-v-c0c60ac2"]]),E={class:"my-[-24px]"},Z={key:0,class:"mb-2"},G={class:"md:flex justify-between items-center space-y-2 md:space-y-0"},J={class:"flex-1 flex items-center"},K={key:0,class:"heading capitalize"},Q={key:1,class:"ml-4"},W={class:"flex items-center"},X={key:0},Y=e("span",{class:"mdi mdi-plus-circle-outline mr-1"},null,-1),ee={class:"card"},te={class:"flex flex-col"},se={class:"overflow-x-auto"},le={class:"inline-block min-w-full py-2"},ae={class:"overflow-hidden"},re={class:"min-w-full table table-auto rounded"},ie={class:"capitalize border-b text-left"},oe=["onClick"],ne={key:0},ce={key:0,class:"cursor-pointer mdi mdi-chevron-up"},de={key:1,class:"cursor-pointer mdi mdi-chevron-down"},ue={key:2,class:"cursor-pointer mdi mdi-unfold-more-horizontal"},me={key:0,class:"px-4 py-2"},fe={key:0,class:"px-4 py-2 h-14"},he={key:1},_e=["colspan"],pe={class:"flex justify-between items-center"},ye={class:"flex-1"},ve={class:"flex items-center"},$e=e("label",{class:"font-medium text-gray-800 mr-2",for:"perPage"}," Items: ",-1),ge={key:1,class:"mt-2"},ke={__name:"DataTable",props:{headers:{type:Array,required:!0},items:{type:Object,required:!1},caption:{type:String,required:!1,default:null},indexRoute:{type:String,required:!0},createRoute:{type:String,required:!1,default:null},createButtonLabel:{type:String,required:!1,default:null},filters:{type:Object,required:!0}},setup(r){const i=r,t=I({page:i.filters.page?i.filters.page:1,search:i.filters.search?i.filters.search:"",sortBy:i.filters.sortBy?i.filters.sortBy:null,sortDesc:!!i.filters.sortDesc,perPage:i.filters.perPage?parseInt(i.filters.perPage):15});let n=D(t.perPage),d=D(t.search);B(d,a=>{t.page=1,t.search=a}),B(n,(a,p)=>{a!=p&&(t.page=1,t.perPage=a)}),B(t,()=>{k()},{deep:!0});function k(){q.get(i.indexRoute,t,{preserveScroll:!0,preserveState:!0,replace:!0})}function o(a){t.sortBy===a?t.sortDesc=!t.sortDesc:(t.sortBy=a,t.sortDesc=!1)}return(a,p)=>(s(),l("div",E,[a.$slots.top?(s(),l("div",Z,[_(a.$slots,"top")])):h("",!0),e("div",G,[e("div",J,[r.caption?(s(),l("h1",K,$(r.caption),1)):h("",!0),a.$slots.filter?(s(),l("div",Q,[_(a.$slots,"filter")])):h("",!0)]),e("div",W,[u(A,{modelValue:f(d),"onUpdate:modelValue":p[0]||(p[0]=c=>w(d)?d.value=c:d=c),class:"flex-1",height:"8",name:"search",placeholder:"search","prepend-icon":"mdi mdi-magnify"},null,8,["modelValue"]),r.createRoute?(s(),l("div",X,[u(f(v),{href:r.createRoute,class:"btn btn-primary text-white h-8 ml-1"},{default:m(()=>[Y,g(" "+$(r.createButtonLabel||"Add"),1)]),_:1},8,["href"])])):h("",!0)])]),e("div",ee,[e("div",te,[e("div",se,[e("div",le,[e("div",ae,[e("table",re,[e("thead",ie,[e("tr",null,[(s(!0),l(y,null,x(r.headers,(c,C)=>(s(),l("th",{key:C,class:"px-4 py-2",scope:"col",onClick:b=>o(c.value)},[g($(c.text)+" ",1),c.sortable?(s(),l("span",ne,[t.sortBy===c.value&&!t.sortDesc?(s(),l("span",ce)):t.sortBy===c.value&&t.sortDesc?(s(),l("span",de)):(s(),l("span",ue))])):h("",!0)],8,oe))),128)),a.$slots.default?(s(),l("th",me," Actions ")):h("",!0)])]),e("tbody",null,[r.items.data.length?(s(!0),l(y,{key:0},x(r.items.data,(c,C)=>(s(),l("tr",{key:C,class:"border-t"},[(s(!0),l(y,null,x(r.headers,(b,V)=>(s(),l("td",{key:V,class:"px-4 py-2 h-14 whitespace-nowrap"},[_(a.$slots,[b.value],{item:c}),a.$slots[b.value]?h("",!0):(s(),l(y,{key:0},[g($(c[b.value]),1)],64))]))),128)),a.$slots.default?(s(),l("td",fe,[_(a.$slots,"default",{item:c})])):h("",!0)]))),128)):(s(),l("tr",he,[e("td",{colspan:a.$slots.default?r.headers.length+1:r.headers.length,class:"text-center py-2"},"No Records Found ",8,_e)]))])])])])])])]),e("div",pe,[e("div",ye,[u(P,{links:r.items.links},null,8,["links"])]),e("div",ve,[$e,u(M,{modelValue:f(n),"onUpdate:modelValue":p[1]||(p[1]=c=>w(n)?n.value=c:n=c),class:"min-w-[64px]",height:10,items:["5","10","15","20","25","30"],name:"perPage"},null,8,["modelValue"])])]),a.$slots.bottom?(s(),l("div",ge,[_(a.$slots,"bottom")])):h("",!0)]))}},be={class:"card"},xe={class:"card-body"},we={class:"flex justify-center"},Ce={class:"block"},Be={class:"mb-4"},De={key:0,class:"text-lg text-gray-700 font-semibold"},Se={key:1},qe={class:"text-gray-700"},Ve={class:"text-right mt-8"},Re=e("i",{class:"mdi mdi-close-circle mr-2"},null,-1),je=e("i",{class:"mdi mdi-check-circle mr-2"},null,-1),Ie={__name:"ModalConfirm",props:{show:{type:Boolean,required:!0,default:!1}},emits:["cancel","confirm"],setup(r){return(i,t)=>(s(),S(U,{"max-width":"md",show:r.show},{default:m(()=>[e("div",be,[e("div",xe,[e("div",we,[e("div",Ce,[e("div",Be,[i.$slots.default?(s(),l("h4",Se,[_(i.$slots,"default")])):(s(),l("h4",De," Do you really want to delete this record? "))]),e("div",null,[e("p",qe,[_(i.$slots,"body")])]),e("div",Ve,[u(F,{onClick:t[0]||(t[0]=n=>i.$emit("cancel")),class:"mr-1"},{default:m(()=>[Re,g(" Cancel ")]),_:1}),u(T,{type:"button",onClick:t[1]||(t[1]=n=>i.$emit("confirm"))},{default:m(()=>[je,g(" Confirm ")]),_:1})])])])])])]),_:3},8,["show"]))}},ze=["src","alt"],Le={key:1,class:"text-gray-500"},Ne={class:"border border-accent text-accent text-sm rounded-full px-2 py-1 capitalize font-semibold"},Ae={key:0,class:"flex items-center space-x-2"},Me=e("i",{class:"mdi mdi-eye"},null,-1),Oe=e("i",{class:"mdi mdi-pencil"},null,-1),Te=e("i",{class:"mdi mdi-circle-off-outline"},null,-1),Ue={key:1,class:"flex items-center space-x-2"},Fe=e("i",{class:"mdi mdi-recycle"},null,-1),He=["onClick"],Pe=e("i",{class:"mdi mdi-delete"},null,-1),Ee=[Pe],et={__name:"Index",props:["users","filters"],setup(r){const i=[{text:"image",value:"image"},{text:"name",value:"name",sortable:!0},{text:"email",value:"email",sortable:!0},{text:"role",value:"role",sortable:!0}];let t=D(null);function n(){q.delete(route("admin.users.destroy",t.value),{preserveState:!1}),t=null}return(d,k)=>(s(),l(y,null,[u(f(z),{title:"Users"}),u(O,null,{default:m(()=>[u(ke,{headers:i,items:r.users,filters:r.filters,caption:"Users","index-route":d.route("admin.users.index"),"create-route":d.route("admin.users.create")},{image:m(o=>[o.item.image?(s(),l("img",{key:0,src:o.item.image,class:"h-[35px] w-auto",alt:o.item.name},null,8,ze)):(s(),l("span",Le,"Blank"))]),role:m(o=>[e("span",Ne,$(o.item.role_name),1)]),default:m(o=>[o.item.deleted_at?(s(),l("div",Ue,[u(f(v),{href:d.route("admin.users.restore",o.item),method:"put",as:"button","preserve-state":"",replace:"",class:"text-success"},{default:m(()=>[Fe]),_:2},1032,["href"]),e("button",{onClick:L(a=>w(t)?t.value=o.item.id:t=o.item.id,["prevent"]),class:"text-error"},Ee,8,He)])):(s(),l("div",Ae,[u(f(v),{href:d.route("admin.users.show",o.item),class:"text-accent"},{default:m(()=>[Me]),_:2},1032,["href"]),u(f(v),{href:d.route("admin.users.edit",o.item),class:"text-primary"},{default:m(()=>[Oe]),_:2},1032,["href"]),u(f(v),{href:d.route("admin.users.deactivate",o.item),method:"delete",as:"button","preserve-state":"",replace:"",class:"text-error"},{default:m(()=>[Te]),_:2},1032,["href"])]))]),_:1},8,["items","filters","index-route","create-route"]),u(Ie,{show:!!f(t),onCancel:k[0]||(k[0]=o=>w(t)?t.value=null:t=null),onConfirm:n},null,8,["show"])]),_:1})],64))}};export{et as default};
