import{a as s,c as l,F as _,j as k,k as w,n as D,l as S,u as h,m as y,i as V,p as q,q as p,d as f,e,t as v,f as c,w as u,b as $,O as C,r as R,Z as j,g as I,s as x}from"./app-DcYkVpcn.js";import{_ as z}from"./ApplicationLogo-CGDYpqx_.js";import{_ as L}from"./TextField-BhU5duVz.js";import{S as N}from"./Select-BrvnWTs7.js";import{_ as A}from"./Admin-B0ijisE_.js";import{_ as M,a as O}from"./Modal-D0_yDqfn.js";import{_ as T}from"./DarkButton-B50aVqhD.js";const U={__name:"Paginator",props:{links:{type:Array}},setup(r){return(o,t)=>(s(),l("div",null,[(s(!0),l(_,null,k(r.links,(d,m)=>(s(),w(S(d.url?h(y):"span"),{key:m,class:D([{"page-link-disabled":!d.url,"page-link-active":d.active},"page-link"]),href:d.url,innerHTML:d.label},null,8,["class","href","innerHTML"]))),128))]))}},F=z(U,[["__scopeId","data-v-c0c60ac2"]]),P={key:0,class:"mb-2"},H={class:"md:flex justify-between items-center space-y-2 md:space-y-0"},E={class:"flex-1 flex items-center"},Z={key:0,class:"heading capitalize"},G={key:1,class:"ml-4"},J={class:"flex items-center"},K={key:0},Q=e("span",{class:"mdi mdi-plus-circle-outline mr-1"},null,-1),W={class:"card"},X={class:"flex flex-col"},Y={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},ee={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},te={class:"overflow-hidden"},se={class:"min-w-full table table-auto rounded"},le={class:"capitalize border-b text-left"},ae=["onClick"],re={key:0},ie={key:0,class:"cursor-pointer mdi mdi-chevron-up"},oe={key:1,class:"cursor-pointer mdi mdi-chevron-down"},ne={key:2,class:"cursor-pointer mdi mdi-unfold-more-horizontal"},ce={key:0,class:"px-4 py-2"},de={key:0,class:"px-4 py-2 h-14"},ue={key:1},me=["colspan"],fe={class:"flex justify-between items-center"},he={class:"flex-1"},_e={class:"flex items-center"},pe=e("label",{class:"font-medium text-gray-800 mr-2",for:"perPage"}," Items: ",-1),ye={key:1,class:"mt-2"},ve={__name:"DataTable",props:{headers:{type:Array,required:!0},items:{type:Object,required:!1},caption:{type:String,required:!1,default:null},indexRoute:{type:String,required:!0},createRoute:{type:String,required:!1,default:null},createButtonLabel:{type:String,required:!1,default:null},filters:{type:Object,required:!0}},setup(r){const o=r,t=V({page:o.filters.page?o.filters.page:1,search:o.filters.search?o.filters.search:"",sortBy:o.filters.sortBy?o.filters.sortBy:null,sortDesc:!!o.filters.sortDesc,perPage:o.filters.perPage?parseInt(o.filters.perPage):15});q(t,(i,a)=>{i.perPage!==a.perPage&&(t.page=1),d()},{deep:!0});async function d(){C.get(o.indexRoute,t,{preserveScroll:!0,preserveState:!0,replace:!0})}function m(i){t.sortBy===i?t.sortDesc=!t.sortDesc:(t.sortBy=i,t.sortDesc=!1),d()}return(i,a)=>(s(),l(_,null,[i.$slots.top?(s(),l("div",P,[p(i.$slots,"top")])):f("",!0),e("div",H,[e("div",E,[r.caption?(s(),l("h1",Z,v(r.caption),1)):f("",!0),i.$slots.filter?(s(),l("div",G,[p(i.$slots,"filter")])):f("",!0)]),e("div",J,[c(L,{modelValue:t.search,"onUpdate:modelValue":a[0]||(a[0]=n=>t.search=n),class:"flex-1",height:"8",name:"search",placeholder:"search","prepend-icon":"mdi mdi-magnify"},null,8,["modelValue"]),r.createRoute?(s(),l("div",K,[c(h(y),{href:r.createRoute,class:"btn btn-primary text-white h-8 ml-1"},{default:u(()=>[Q,$(" "+v(r.createButtonLabel||"Add"),1)]),_:1},8,["href"])])):f("",!0)])]),e("div",W,[e("div",X,[e("div",Y,[e("div",ee,[e("div",te,[e("table",se,[e("thead",le,[e("tr",null,[(s(!0),l(_,null,k(r.headers,(n,b)=>(s(),l("th",{key:b,class:"px-4 py-2",scope:"col",onClick:g=>m(n.value)},[$(v(n.text)+" ",1),n.sortable?(s(),l("span",re,[t.sortBy===n.value&&!t.sortDesc?(s(),l("span",ie)):t.sortBy===n.value&&t.sortDesc?(s(),l("span",oe)):(s(),l("span",ne))])):f("",!0)],8,ae))),128)),i.$slots.default?(s(),l("th",ce," Actions ")):f("",!0)])]),e("tbody",null,[r.items.data.length?(s(!0),l(_,{key:0},k(r.items.data,(n,b)=>(s(),l("tr",{key:b,class:"border-t"},[(s(!0),l(_,null,k(r.headers,(g,B)=>(s(),l("td",{key:B,class:"px-4 py-2 h-14 whitespace-nowrap"},[p(i.$slots,[g.value],{item:n}),i.$slots[g.value]?f("",!0):(s(),l(_,{key:0},[$(v(n[g.value]),1)],64))]))),128)),i.$slots.default?(s(),l("td",de,[p(i.$slots,"default",{item:n})])):f("",!0)]))),128)):(s(),l("tr",ue,[e("td",{colspan:i.$slots.default?r.headers.length+1:r.headers.length,class:"text-center py-2"},"No Records Found ",8,me)]))])])])])])])]),e("div",fe,[e("div",he,[c(F,{links:r.items.links},null,8,["links"])]),e("div",_e,[pe,c(N,{modelValue:t.perPage,"onUpdate:modelValue":a[1]||(a[1]=n=>t.perPage=n),class:"min-w-[64px]",height:10,items:["5","10","15","20","25","30"],name:"perPage"},null,8,["modelValue"])])]),i.$slots.bottom?(s(),l("div",ye,[p(i.$slots,"bottom")])):f("",!0)],64))}},$e={class:"card"},ge={class:"card-body"},ke={class:"flex justify-center"},be={class:"block"},xe={class:"mb-4"},we={key:0,class:"text-lg text-gray-700 font-semibold"},Ce={key:1},Be={class:"text-gray-700"},De={class:"text-right mt-8"},Se=e("i",{class:"mdi mdi-close-circle mr-2"},null,-1),Ve=e("i",{class:"mdi mdi-check-circle mr-2"},null,-1),qe={__name:"ModalConfirm",props:{show:{type:Boolean,required:!0,default:!1}},setup(r){return(o,t)=>(s(),w(O,{"max-width":"md",show:r.show},{default:u(()=>[e("div",$e,[e("div",ge,[e("div",ke,[e("div",be,[e("div",xe,[o.$slots.default?(s(),l("h4",Ce,[p(o.$slots,"default")])):(s(),l("h4",we," Do you really want to delete this record? "))]),e("div",null,[e("p",Be,[p(o.$slots,"body")])]),e("div",De,[c(T,{onClick:t[0]||(t[0]=d=>o.$emit("cancel")),class:"mr-1"},{default:u(()=>[Se,$(" Cancel ")]),_:1}),c(M,{type:"button",onClick:t[1]||(t[1]=d=>o.$emit("confirm"))},{default:u(()=>[Ve,$(" Confirm ")]),_:1})])])])])])]),_:3},8,["show"]))}},Re=["src","alt"],je={key:1,class:"text-gray-500"},Ie={class:"border border-accent text-accent text-sm rounded-full px-2 py-1 capitalize font-semibold"},ze={key:0,class:"flex items-center space-x-2"},Le=e("i",{class:"mdi mdi-eye"},null,-1),Ne=e("i",{class:"mdi mdi-pencil"},null,-1),Ae=e("i",{class:"mdi mdi-circle-off-outline"},null,-1),Me={key:1,class:"flex items-center space-x-2"},Oe=e("i",{class:"mdi mdi-recycle"},null,-1),Te=["onClick"],Ue=e("i",{class:"mdi mdi-delete"},null,-1),Fe=[Ue],Qe={__name:"Index",props:["users","filters"],setup(r){const o=[{text:"image",value:"image"},{text:"name",value:"name",sortable:!0},{text:"email",value:"email",sortable:!0},{text:"role",value:"role",sortable:!0}];let t=R(null);function d(){C.delete(route("admin.users.destroy",t.value),{preserveState:!1}),t=null}return(m,i)=>(s(),l(_,null,[c(h(j),{title:"Users"}),c(A,null,{default:u(()=>[c(ve,{headers:o,items:r.users,filters:r.filters,caption:"Users","index-route":m.route("admin.users.index"),"create-route":m.route("admin.users.create")},{image:u(a=>[a.item.image?(s(),l("img",{key:0,src:a.item.image,class:"h-[35px] w-auto",alt:a.item.name},null,8,Re)):(s(),l("span",je,"Blank"))]),role:u(a=>[e("span",Ie,v(a.item.role_name),1)]),default:u(a=>[a.item.deleted_at?(s(),l("div",Me,[c(h(y),{href:m.route("admin.users.restore",a.item),method:"put",as:"button","preserve-state":"",replace:"",class:"text-success"},{default:u(()=>[Oe]),_:2},1032,["href"]),e("button",{onClick:I(n=>x(t)?t.value=a.item.id:t=a.item.id,["prevent"]),class:"text-error"},Fe,8,Te)])):(s(),l("div",ze,[c(h(y),{href:m.route("admin.users.show",a.item),class:"text-accent"},{default:u(()=>[Le]),_:2},1032,["href"]),c(h(y),{href:m.route("admin.users.edit",a.item),class:"text-primary"},{default:u(()=>[Ne]),_:2},1032,["href"]),c(h(y),{href:m.route("admin.users.deactivate",a.item),method:"delete",as:"button","preserve-state":"",replace:"",class:"text-error"},{default:u(()=>[Ae]),_:2},1032,["href"])]))]),_:1},8,["items","filters","index-route","create-route"]),c(qe,{show:!!h(t),onCancel:i[0]||(i[0]=a=>x(t)?t.value=null:t=null),onConfirm:d},null,8,["show"])]),_:1})],64))}};export{Qe as default};
